import{H as M,T as y,M as w}from"./components.be6aabdc.js";import{_ as H}from"./Component.vue.dfbab7d1.js";import{u as C}from"./asyncData.47a5955a.js";import{g as e,h as L,i as N,j as I,x as S,c as A,k as r,w as v,u as n,p as B,o as E,b as R}from"./entry.cd87f4bf.js";import{s as T}from"./useSlugify.31da7e80.js";import"./scrollToTop.vue.3b085fd7.js";import"./LoadingSpinner.2de385ac.js";const $={__name:"index",setup(F){const d=e({}),m=e(""),p=e([]),f=e(""),u=e(""),_=e([]),D=e(0),b=e(""),h=e(!1),g=L(),k=async()=>{d.value=await C("getIndexDocumentation",()=>GqlGetIndexDocumentation()).then(({data:o})=>{if(!o.value||!o.value.currentDoc.data[0])return B("/docs");const s=o.value.currentDoc.data[0].attributes;b.value=s.subsections[0].title,f.value=s.section_title,_.value=o.value.allLinks.data.flatMap(t=>t.attributes.subsections),u.value=g.hash.replace(/^#+/,"");const{content:i}=s.subsections[0],a=[],c=new DOMParser().parseFromString(i,"text/html");let l=-1;for(const t of c.body.childNodes)t.localName==="h1"&&(a.push({title:t.outerText,subtitles:[]}),l+=1,t.id=T(t.outerText)),t.localName==="h2"&&l!=-1&&(a[l].subtitles.push(t.outerText),t.id=T(t.outerText));return m.value=c.documentElement.outerHTML,p.value=a,o.value.allLinks.data.map(t=>({section_title:t.attributes.section_title,subsections:t.attributes.subsections}))})};return N(async()=>{await I(async()=>{await k(),h.value=!0})}),S(async o=>{u.value=o.hash.replace(/^#+/,"")}),(o,s)=>{const i=y,a=w,x=M,c=H;return E(),A("div",null,[r(x,null,{default:v(()=>[r(i,null,{default:v(()=>[R("Documentation")]),_:1}),r(a,{name:"description",content:"Collection of MITRE SAFÂ© documentation"})]),_:1}),r(c,{"all-links":n(_),"current-heading":n(u),"current-index":n(D),"current-section-title":n(f),"current-subsection":n(b),"doc-data":n(d),"is-loaded":n(h),"table-of-contents":n(p),"rendered-content":n(m)},null,8,["all-links","current-heading","current-index","current-section-title","current-subsection","doc-data","is-loaded","table-of-contents","rendered-content"])])}}};export{$ as default};
